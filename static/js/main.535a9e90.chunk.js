(this["webpackJsonpp2p-messenger"]=this["webpackJsonpp2p-messenger"]||[]).push([[0],{16:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=16},22:function(e,n,t){},23:function(e,n,t){"use strict";t.r(n);var c,s=t(0),a=t(1),r=t.n(a),o=t(7),i=t.n(o),d=t(10),j=t(5),u=t(2),b=t(8),O=t.n(b),l=t(9),h=t.n(l);function f(e){var n=e.sender,t=e.body;return Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)("div",{className:"sender",children:n}),Object(s.jsx)("div",{className:"body",children:t})]})}var m=function(){var e=Object(a.useState)(),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(u.a)(o,2),b=i[0],l=i[1],m=Object(a.useState)(""),p=Object(u.a)(m,2),v=p[0],g=p[1],x=Object(a.useState)(""),y=Object(u.a)(x,2),C=y[0],N=y[1],S=Object(a.useState)(""),w=Object(u.a)(S,2),k=w[0],F=w[1],M=Object(a.useState)([]),P=Object(u.a)(M,2),D=P[0],E=P[1];Object(a.useEffect)((function(){var e=h()({words:3,number:!0}).dashed,n=new O.a(e);r(n),n.on("connection",(function(e){g(e.peer),e.on("data",(function(n){var t={sender:e.peer,body:n};E((function(e){return[].concat(Object(j.a)(e),[t])}))})),c=e,l(!0)})),n.on("open",(function(){N(n.id)}))}),[]);var I=Object(a.useCallback)((function(e){var n=e.target,t=n.value,c=n.name;"id"===c?g(t):"msg"===c&&F(t)}),[]),L=Object(a.useCallback)((function(e){if(13===e.charCode)if("id"===e.target.name)(c=t.connect(v)).on("data",(function(e){var n={sender:v,body:e};E((function(e){return[].concat(Object(j.a)(e),[n])}))})),l(!0);else{c.send(k),F("");var n={sender:"me",body:k};E((function(e){return[].concat(Object(j.a)(e),[n])}))}}),[v,t,k,F]);return Object(s.jsxs)("div",{className:"App",children:[b?Object(s.jsx)("h4",{children:"Connected!"}):Object(s.jsxs)("div",{className:"connection",children:[Object(s.jsx)("h2",{children:"Me"}),C,Object(s.jsx)("h2",{children:"Connection"}),Object(s.jsx)("input",{type:"text",placeholder:"Peer ID",name:"id",value:v,onKeyPress:L,onChange:I})]}),Object(s.jsxs)("div",{className:"messages",children:[Object(s.jsx)("h2",{children:"Messages"}),D.map((function(e,n){return Object(s.jsx)(f,Object(d.a)({},e),n)}))]}),Object(s.jsx)("input",{placeholder:"Message",name:"msg",type:"text",value:k,onKeyPress:L,onChange:I})]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(n){var t=n.getCLS,c=n.getFID,s=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),c(e),s(e),a(e),r(e)}))};t(22);i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(m,{})}),document.getElementById("root")),p()}},[[23,1,2]]]);
//# sourceMappingURL=main.535a9e90.chunk.js.map